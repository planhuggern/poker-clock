# Eksempel p√• Traefik dynamic config for poker-clock.
# bootstrap.sh genererer dette automatisk til /etc/traefik/dynamic/poker-clock.yml.
# Denne filen er kun referanse/mal.

http:
  routers:
    poker-clock:
      rule: "Host(`example.com`) && PathPrefix(`/pokerklokke`)"
      entryPoints:
        - websecure
      tls:
        certResolver: letsencrypt
      service: poker-clock-backend
      middlewares:
        - strip-basepath-pokerclock

  services:
    poker-clock-backend:
      loadBalancer:
        servers:
          - url: "http://127.0.0.1:8000"

  middlewares:
    strip-basepath-pokerclock:
      stripPrefix:
        prefixes:
          - "/pokerklokke"
